(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{32:function(e,t,a){e.exports=a(51)},38:function(e,t,a){},39:function(e,t,a){},51:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),s=a(28),i=a.n(s),l=(a(37),a(38),a(7)),c=a(8),o=a(10),u=a(9),m=a(11),p=(a(39),a(13)),d=a(14),h=a(21),g=a(18),E=a.n(g),b=a(23),f=function(e){return function(){var t=Object(b.a)(E.a.mark(function t(a){var n,r,s;return E.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(n=e,console.log(n),""!=n.username&&""!=n.pass){t.next=6;break}a({type:"LOGIN_ERROR",data:null}),t.next=13;break;case 6:return t.next=8,fetch("http://localhost:3000/login",{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify(n)});case 8:return r=t.sent,t.next=11,r.json();case 11:s=t.sent,a({type:"LOGIN_STATUS",data:s});case 13:case"end":return t.stop()}},t)}));return function(e){return t.apply(this,arguments)}}()},v=a(3),N=function(e){function t(){var e,a;Object(l.a)(this,t);for(var n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];return(a=Object(o.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).state={name:"",username:"",pass:"",repeat:""},a}return Object(m.a)(t,e),Object(c.a)(t,[{key:"handleText",value:function(e){this.setState(Object(h.a)({},e.target.name,e.target.value))}},{key:"sendToRegister",value:function(){this.props.registerAction(this.state)}},{key:"render",value:function(){return r.a.createElement("div",{className:"registerstyle"},r.a.createElement("div",{className:"limiter"},r.a.createElement("div",{className:"container-login100"},r.a.createElement("div",{className:"login100-more"}),r.a.createElement("div",{className:"wrap-login100 p-l-50 p-r-50 p-t-72 p-b-50"},r.a.createElement("form",{className:"login100-form validate-form"}),r.a.createElement("span",{className:"login100-form-title p-b-59"},"Sign Up"),r.a.createElement("div",{className:"wrap-input100 validate-input","data-validate":"Name is required"},r.a.createElement("span",{className:"label-input100"},"Full Name"),r.a.createElement("input",{required:!0,onChange:this.handleText.bind(this),className:"input100",type:"text",name:"name",placeholder:"Name..."}),r.a.createElement("span",{className:"focus-input100"})),r.a.createElement("div",{className:"wrap-input100 validate-input","data-validate":"Username is required"},r.a.createElement("span",{className:"label-input100"},"Username"),r.a.createElement("input",{required:!0,onChange:this.handleText.bind(this),className:"input100",type:"text",name:"username",placeholder:"Username..."}),r.a.createElement("span",{className:"focus-input100"})),r.a.createElement("div",{className:"wrap-input100 validate-input","data-validate":"Password is required"},r.a.createElement("span",{className:"label-input100"},"Password"),r.a.createElement("input",{required:!0,onChange:this.handleText.bind(this),className:"input100",type:"password",name:"pass",placeholder:"*************"}),r.a.createElement("span",{className:"focus-input100"})),r.a.createElement("div",{className:"wrap-input100 validate-input","data-validate":"Repeat Password is required"},r.a.createElement("span",{className:"label-input100"},"Repeat Password"),r.a.createElement("input",{required:!0,onChange:this.handleText.bind(this),className:"input100",type:"password",name:"repeat",placeholder:"*************"}),r.a.createElement("span",{className:"focus-input100"})),r.a.createElement("div",{className:"container-login100-form-btn"},r.a.createElement("div",{className:"wrap-login100-form-btn"},r.a.createElement("div",{className:"login100-form-bgbtn"}),r.a.createElement("button",{onClick:this.sendToRegister.bind(this),className:"login100-form-btn"},"Sign Up"))),r.a.createElement("div",{className:"wrap-input100 validate-input","data-validate":"Repeat Password is required"},this.props.msg)))))}}]),t}(n.Component),O=Object(v.b)(function(e){return{msg:e.msg}},function(e){return{registerAction:function(t){return e(function(e){return function(){var t=Object(b.a)(E.a.mark(function t(a){var n,r,s;return E.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(""!=(n=e).name&&""!=n.username&&""!=n.pass&&""!=n.repeat){t.next=6;break}console.log("all mendatory"),a({type:"ALL_INPUT_MANDATORY",data:null}),t.next=20;break;case 6:if(n.pass===n.repeat){t.next=12;break}console.log("The password is incorrect"),a({type:"INCORRECTSECOND_PASS",data:null}),t.next=20;break;case 12:return t.next=14,fetch("http://localhost:3000/register",{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify(n)});case 14:return r=t.sent,t.next=17,r.json();case 17:s=t.sent,a({type:"REGISTERED",data:s.msg});case 20:case"end":return t.stop()}},t)}));return function(e){return t.apply(this,arguments)}}()}(t))}}})(N),j=function(e){function t(){var e,a;Object(l.a)(this,t);for(var n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];return(a=Object(o.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).state={username:"",pass:""},a}return Object(m.a)(t,e),Object(c.a)(t,[{key:"handleTextforlogin",value:function(e){this.setState(Object(h.a)({},e.target.name,e.target.value))}},{key:"sendToLogin",value:function(){this.props.LoginAction(this.state)}},{key:"render",value:function(){return r.a.createElement("div",{className:"registerstyle"},r.a.createElement("div",{className:"limiter"},r.a.createElement("div",{className:"container-login100"},r.a.createElement("div",{className:"login100-more"}),r.a.createElement("div",{className:"wrap-login100 p-l-50 p-r-50 p-t-72 p-b-50"},r.a.createElement("form",{className:"login100-form validate-form"}),r.a.createElement("span",{className:"login100-form-title p-b-59"},"Login"),r.a.createElement("div",{className:"wrap-input100 validate-input","data-validate":"Username is required"},r.a.createElement("span",{className:"label-input100"},"Username"),r.a.createElement("input",{required:!0,onChange:this.handleTextforlogin.bind(this),className:"input100",type:"text",name:"username",placeholder:"Username..."}),r.a.createElement("span",{className:"focus-input100"})),r.a.createElement("div",{className:"wrap-input100 validate-input","data-validate":"Password is required"},r.a.createElement("span",{className:"label-input100"},"Password"),r.a.createElement("input",{required:!0,onChange:this.handleTextforlogin.bind(this),className:"input100",type:"password",name:"pass",placeholder:"*************"}),r.a.createElement("span",{className:"focus-input100"})),r.a.createElement("div",{className:"container-login100-form-btn"},r.a.createElement("div",{className:"wrap-login100-form-btn"},r.a.createElement("div",{className:"login100-form-bgbtn"}),r.a.createElement("button",{onClick:this.sendToLogin.bind(this),className:"login100-form-btn"},"Login"))),r.a.createElement("div",{className:"wrap-input100 validate-input","data-validate":"Repeat Password is required"},this.props.msg)))))}}]),t}(n.Component),w=Object(v.b)(function(e){return{msg:e.msg}},function(e){return{LoginAction:function(t){return e(f(t))}}})(j),y=function(e){function t(){return Object(l.a)(this,t),Object(o.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(c.a)(t,[{key:"sendToLogin",value:function(){this.props.LoginAction(this.state)}},{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement("h1",null,"admin page"))}}]),t}(n.Component),T=Object(v.b)(function(e){return{msg:e.msg}},function(e){return{LoginAction:function(t){return e(f(t))}}})(y),x=function(e){function t(){return Object(l.a)(this,t),Object(o.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(c.a)(t,[{key:"sendToLogin",value:function(){this.props.LoginAction(this.state)}},{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement("h1",null,"user page"))}}]),t}(n.Component),k=Object(v.b)(function(e){return{msg:e.msg}},function(e){return{LoginAction:function(t){return e(f(t))}}})(x),A=function(e){function t(){return Object(l.a)(this,t),Object(o.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){return this.props.role?"user"==this.props.role?r.a.createElement("div",null,r.a.createElement(p.a,null,r.a.createElement("div",null,r.a.createElement("nav",null,r.a.createElement("ul",null,r.a.createElement("li",null,r.a.createElement(p.b,{to:"/user"},"user")))),r.a.createElement(d.a,{path:"/user",exact:!0,component:k})))):"admin"==this.props.role?r.a.createElement("div",null,r.a.createElement(p.a,null,r.a.createElement("div",null,r.a.createElement("nav",null,r.a.createElement("ul",null,r.a.createElement("li",null,r.a.createElement(p.b,{to:"/admin"},"admin")))),r.a.createElement(d.a,{path:"/admin",exact:!0,component:T})))):void 0:r.a.createElement("div",{className:"App"},r.a.createElement(p.a,null,r.a.createElement("div",null,r.a.createElement("nav",null,r.a.createElement("ul",null,r.a.createElement("li",null,r.a.createElement(p.b,{to:"/"},"Login")),r.a.createElement("li",null,r.a.createElement(p.b,{to:"/register"},"Register")))),r.a.createElement(d.a,{path:"/",exact:!0,component:w}),r.a.createElement(d.a,{path:"/register/",component:O}))))}}]),t}(n.Component),R=Object(v.b)(function(e){return{role:e.role}},null)(A);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var C={},L=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:C,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"INCORRECTSECOND_PASS":return Object.assign({},e,{msg:"The password is incorrect"});case"ALL_INPUT_MANDATORY":return Object.assign({},e,{msg:"All inputs are mandatory"});case"LOGIN_ERROR":return Object.assign({},e,{msg:"Username and password are mandetory"});case"REGISTERED":return Object.assign({},e,{msg:t.data});case"LOGIN_STATUS":return Object.assign({},e,{role:t.data.role,clientName:t.data.username});default:return e}},S=a(17),q=a(31),P=Object(S.c)(L,Object(S.a)(q.a));i.a.render(r.a.createElement(v.a,{store:P},r.a.createElement(R,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[32,1,2]]]);
//# sourceMappingURL=main.11a0f521.chunk.js.map